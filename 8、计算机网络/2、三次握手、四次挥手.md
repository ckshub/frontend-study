## TCP/IP协议

- 由网络层的（IP）与传输层的（TCP）组成
- 三次握手
  - 以客户端作为连接发起端，第一次握手时，客户端发送SYN连接报文与seq序列号到服务端；第二次握手时，服务端回复ACK确认与SYN连接报文，同时将收到的客户端的seq+1并返回给客户端，并随机生成一个新的序列号seq发送给客户端。第三次握手时，此时已经建立连接，所以没有SYN的交换。第三次握手还可以携带数据，具体是客户端回复ACK确认报文，seq+1并生成新的seq发送到服务端，并至此三次握手结束。
  - A （SYN和ISN（即初始的seq100））=>B
  - B（标志位ACK和SYN，和ack101,、B的seq300）=>A
  - A(标志位ACK和SYN，和ack301、之前的seq101)=>B
- 为什么要三次握手
  1. A对B：听得到我说话吗=>B对A：听得到=>A对B：好的我知道了
  2. 至于为什么不能两次，分两种情况讨论: 1、是为了确认收发双方的接收、发送能力都正常，如果只有两次，服务端无法确认客户端的接收能力是否正常(因为服务端没收到客户端第三次握手回复)。2、如果两次握手就结束，那么万一第三次握手的报文被阻塞，直到后来到达的时候，会被服务端误认为是建立连接，然而这个报文早已失效，让服务端白白等待，浪费资源
- 为什么TCP可靠
  1. 靠seq(sequence numbers序列号)达成
  2. TCP发送的每个包都有seq。
  3. 机制是累积的，所以X序列号之前的包都是确认接受到的
- TCP如何实现流量控制
- TCP保活机制
- 拥塞堵塞有哪几种算法 
- 为什么要四次挥手
  1. A对B：我要关闭了=>B对A：好的，我知道你要关闭了=>B对A：我也要关闭了=>A对B：好的你关闭吧。（等待2MSL，默认2分钟）
- 网络报文 粘包、分包、半包，如何解决

## ARP协议

地址解析协议：根据IP地址获取（物理地址）的一个（TCP/IP）协议。

直接说：ARP协议主要作用是获得目的主机的MAC地址，具体过程是：先查询ARP缓存是否有目的主机MAC地址，如果没有，发送ARP广播帧到所有主机，如果其中一个目的主机匹配，会单独通知主机，至此就找到了

主机发送信息=>有目标IP地址的ARP请求=>广播并接受返回信息=>获取目标物理地址=>IP地址和物理地址存入本机ARP缓存，下次请求直接查询

不会检测报文的真实性就计入本机ARP缓存

ARP欺骗：向某主机发送伪ARP应答报文。使发送的信息无法到预期的主机或者错误主机

A=>(自己的IP与MAC和目标的IP与MAC)=>B=>(存储A的IP与MAC)，返回=>A存储

## RAPR协议

逆地址解析协议：将局域网某个主机的物理地址转化为IP地址