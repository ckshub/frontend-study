```js
/*
 * function TreeNode(x) {
 *   this.val = x;
 *   this.left = null;
 *   this.right = null;
 * }
 */

/**
 * 
 * @param root TreeNode类 
 * @param o1 int整型 
 * @param o2 int整型 
 * @return int整型
 */
function lowestCommonAncestor( root ,  o1 ,  o2 ) {
    // write code here
//     let res = null;
//     function rec (root,p,q){
//         if(root == null) return false;
//         let lSons = rec(root.left,p,q);
//         let rSons = rec(root.right,p,q);
//         if(lSons && rSons || (root.val === q || root.val === p && (lSons || rSons))){
//             res = root;
//         }
//         return lSons || rSons || (root.val === p || root.val === q);
//     }
//     rec(root,o1,o2);
//     return res.val;
    
    let res = null
    function my (root,p,q){
        if(!root) return false
        let lsons = my(root.left,p,q)
        let rsons = my(root.right,p,q)
        if( lsons && rsons || ( (lsons || rsons) && root.val == p || root.val == q ) ){
            res = root
        }
        
        return lsons || rsons || (root.val === p || root.val === q)
    }
    my(root,o1,o2)
    return res.val
}
module.exports = {
    lowestCommonAncestor : lowestCommonAncestor
};
```

